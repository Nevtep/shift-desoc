{"abi":[{"type":"constructor","inputs":[{"name":"_governor","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"cancelProposal","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"castVoteMulti","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"},{"name":"voter","type":"address","internalType":"address"},{"name":"weight","type":"uint256","internalType":"uint256"},{"name":"weights","type":"uint256[]","internalType":"uint256[]"},{"name":"reason","type":"string","internalType":"string"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"enableMulti","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"},{"name":"options","type":"uint8","internalType":"uint8"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAllOptionVotes","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"votes","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getOptionVotes","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"},{"name":"optionIndex","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getVoterWeights","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"},{"name":"voter","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getWinningOption","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"winningOption","type":"uint256","internalType":"uint256"},{"name":"winningVotes","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"governor","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isMultiEnabled","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"numOptionsOf","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"optionTotals","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"previewVoteDistribution","inputs":[{"name":"voterWeight","type":"uint256","internalType":"uint256"},{"name":"weights","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"actualWeights","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"pure"},{"type":"function","name":"proposalVotes","inputs":[{"name":"proposalId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"againstVotes","type":"uint256","internalType":"uint256"},{"name":"forVotes","type":"uint256","internalType":"uint256"},{"name":"abstainVotes","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"validateVoteDistribution","inputs":[{"name":"weights","type":"uint256[]","internalType":"uint256[]"}],"outputs":[{"name":"valid","type":"bool","internalType":"bool"},{"name":"reason","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"event","name":"MultiChoiceEnabled","inputs":[{"name":"proposalId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"options","type":"uint8","indexed":false,"internalType":"uint8"}],"anonymous":false},{"type":"event","name":"ProposalCanceled","inputs":[{"name":"proposalId","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"VoteCastMulti","inputs":[{"name":"proposalId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"voter","type":"address","indexed":true,"internalType":"address"},{"name":"weights","type":"uint256[]","indexed":false,"internalType":"uint256[]"},{"name":"totalWeight","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"reason","type":"string","indexed":false,"internalType":"string"}],"anonymous":false}],"bytecode":{"object":"0x6080346100cc57601f61115c38819003918201601f19168301916001600160401b038311848410176100d0578084926020946040528339810103126100cc57516001600160a01b038116908190036100cc578015610079575f80546001600160a01b03191691909117905560405161107790816100e58239f35b60405162461bcd60e51b815260206004820152602560248201527f436f756e74696e674d756c746943686f6963653a20696e76616c696420676f7660448201526432b93737b960d91b6064820152608490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080806040526004361015610012575f80fd5b5f3560e01c9081630c340a2414610cff5750806316c500cd14610c945780632091150d146107f25780632c2e8c92146107c3578063544ffc9c1461078257806354710b0f14610752578063732958fa146106c957806378bbd8fa14610635578063a6286870146105b9578063a6d62c3514610525578063d004cb7f146104ab578063e0a8f6f514610417578063e7ea088f146103585763f009f709146100b6575f80fd5b3461035457604036600319011261035457600435602490813560ff8116809103610354576100ef6001600160a01b035f54163314610f99565b600281106102ea57600a811161028057815f526020906002825260ff60405f2054166102185761011e81610e82565b6040519467ffffffffffffffff919060808701838111888210176102055760405260026001976001815286810186815260408201905f825260608301958652895f5283895260405f20925115159060ff61ff008554925160081b1692169061ffff1916171782555160018201550191519081519384116101f3575084906101a58484610e08565b01905f52835f205f5b8381106101e257867fe74ada30335f0c11679040e95ddf795a4ffe5b451d389854523b1cb5adb03a6b8787604051908152a2005b8251828201559185019187016101ae565b634e487b7160e01b5f5260416004525ffd5b50634e487b7160e01b5f5260416004525ffd5b608482856040519162461bcd60e51b83526004830152808201527f436f756e74696e674d756c746943686f6963653a20616c726561647920656e6160448201527f626c6564000000000000000000000000000000000000000000000000000000006064820152fd5b60848360256040519162461bcd60e51b8352602060048401528201527f436f756e74696e674d756c746943686f6963653a20746f6f206d616e79206f7060448201527f74696f6e730000000000000000000000000000000000000000000000000000006064820152fd5b608483602c6040519162461bcd60e51b8352602060048401528201527f436f756e74696e674d756c746943686f6963653a206e656564206174206c656160448201527f73742032206f7074696f6e7300000000000000000000000000000000000000006064820152fd5b5f80fd5b346103545760403660031901126103545760043560243590805f52600260205260ff60405f205460081c168210156103ad575f526001602052600360405f2001905f52602052602060405f2054604051908152f35b608460405162461bcd60e51b815260206004820152602360248201527f436f756e74696e674d756c746943686f6963653a20696e76616c6964206f707460448201527f696f6e00000000000000000000000000000000000000000000000000000000006064820152fd5b34610354576020366003190112610354576004356104406001600160a01b035f54163314610f99565b805f52600260205260405f205f815560026001915f6001820155018054905f81558161048e575b837f789cf55be980739dad1d0699b93b58e806b51c9d96619bfa8fe0a28abaa7b30c5f80a2005b5f5260205f20908101905b81811015610467575f81558201610499565b34610354576020806003193601126103545760043590815f52600260205260ff60405f205460081c16906104de82610e82565b925f5b8381106104fa57604051806104f68782610d21565b0390f35b600190825f52818452600360405f2001815f52845260405f205461051e8288610eb4565b52016104e1565b34610354576020806003193601126103545760043567ffffffffffffffff81116103545761055a610560913690600401610d72565b90610ec8565b9060405192839115158252604060208301528251908160408401525f935b8285106105a0575050606092505f838284010152601f80199101168101030190f35b848101820151868601606001529381019385935061057e565b346103545760208060031936011261035457600435805f52600260205260ff60405f205460081c16915f905f925f5b8581106105ff576040858582519182526020820152f35b815f5260018352600360405f2001815f52835260405f2054848111610628575b506001016105e8565b909450925083600161061f565b346103545760403660031901126103545761064e610d5c565b6004355f52600160209160016020526001600160a01b03600560405f200191165f5260205260405f20916040519182602085549182815201945f5260205f20925f905b8282106106b4576104f6866106a8818a0382610dbf565b60405191829182610d21565b84548752958601959383019390830190610691565b346103545760403660031901126103545760043560243567ffffffffffffffff8111610354576106fd903690600401610d72565b9161070783610e82565b925f5b81811061071f57604051806104f68782610d21565b80670de0b6b3a76400006107406107396001948689610e4d565b3586610de1565b0461074b8288610eb4565b520161070a565b34610354576020366003190112610354576004355f526002602052602060ff60405f205460081c16604051908152f35b34610354576020366003190112610354576004355f526001602052606060405f20805490600260018201549101549060405192835260208301526040820152f35b34610354576020366003190112610354576004355f526002602052602060ff60405f2054166040519015158152f35b346103545760a03660031901126103545761080b610d5c565b60643567ffffffffffffffff81116103545761082b903690600401610d72565b919067ffffffffffffffff60843511610354573660236084350112156103545767ffffffffffffffff60843560040135116103545736602460843560040135608435010111610354576004355f52600260205260405f2091825460ff811615610c2a5760081c60ff168403610bc0576004355f52600160205260405f20926001600160a01b0382165f526004840160205260ff60405f205416610b56576108d2858461100a565b93670de0b6b3a76400008511610aec576001600160a01b0383165f526004810160205260405f20600160ff198254161790556005810160205260405f2067ffffffffffffffff8711610ad8576109288782610e08565b84905f5260205f20905f5b888110610ac4575050505f5b868110610a2b5750506001016109586044358254610e5d565b905560405191606083528460608401527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8511610354576001600160a01b037f748baf300519ad5a9bf95a5fa2ac86104d261425d507ff9a26f610311980c99f9160209660051b809160808701378401926044358786015260808585030160408601526084356004013560808501526084356004013560246084350160a08601375f60a06084356004013586010152169260a08160043594601f19601f60843560040135011601030190a3604051908152f35b610a36818887610e4d565b35610a44575b60010161093f565b670de0b6b3a7640000610a64610a5b838a89610e4d565b35604435610de1565b0490805f526003830160205260405f20610a7f838254610e5d565b90556002840154811015610ab057600191600285015f52610aa78260205f2001918254610e5d565b90559050610a3c565b634e487b7160e01b5f52603260045260245ffd5b600190602083359301928185015501610933565b634e487b7160e01b5f52604160045260245ffd5b608460405162461bcd60e51b815260206004820152602e60248201527f436f756e74696e674d756c746943686f6963653a20746f74616c20776569676860448201527f74732065786365656420313030250000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602260248201527f436f756e74696e674d756c746943686f6963653a20616c726561647920766f7460448201527f65640000000000000000000000000000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602b60248201527f436f756e74696e674d756c746943686f6963653a20696e76616c69642077656960448201527f67687473206c656e6774680000000000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602d60248201527f436f756e74696e674d756c746943686f6963653a206d756c74692d63686f696360448201527f65206e6f7420656e61626c6564000000000000000000000000000000000000006064820152fd5b3461035457602080600319360112610354576004355f526002602052600260405f2001906040519081602084549182815201935f5260205f20915f905b828210610ce8576104f6856106a881890382610dbf565b835486529485019460019384019390910190610cd1565b34610354575f366003190112610354576020906001600160a01b035f54168152f35b60209060206040818301928281528551809452019301915f5b828110610d48575050505090565b835185529381019392810192600101610d3a565b602435906001600160a01b038216820361035457565b9181601f840112156103545782359167ffffffffffffffff8311610354576020808501948460051b01011161035457565b6040810190811067ffffffffffffffff821117610ad857604052565b90601f8019910116810190811067ffffffffffffffff821117610ad857604052565b81810292918115918404141715610df457565b634e487b7160e01b5f52601160045260245ffd5b90680100000000000000008111610ad857815491818155828210610e2b57505050565b5f5260205f2091820191015b818110610e42575050565b5f8155600101610e37565b9190811015610ab05760051b0190565b91908201809211610df457565b67ffffffffffffffff8111610ad85760051b60200190565b90610e8c82610e6a565b610e996040519182610dbf565b8281528092610eaa601f1991610e6a565b0190602036910137565b8051821015610ab05760209160051b010190565b90610ed29161100a565b670de0b6b3a76400008111610f5d5715610f2257600190604051610ef581610da3565b601281527f56616c696420646973747269627574696f6e0000000000000000000000000000602082015290565b5f90604051610f3081610da3565b601981527f4d75737420616c6c6f6361746520736f6d652077656967687400000000000000602082015290565b505f90604051610f6c81610da3565b601281527f546f74616c206578636565647320313030250000000000000000000000000000602082015290565b15610fa057565b608460405162461bcd60e51b815260206004820152602260248201527f436f756e74696e674d756c746943686f6963653a206f6e6c7920676f7665726e60448201527f6f720000000000000000000000000000000000000000000000000000000000006064820152fd5b91905f925f915b80831061101d57505050565b909193611038600191611031878587610e4d565b3590610e5d565b9401919061101156fea2646970667358221220c88c732719272c00dea6af80f05825d7cdbf39d29c2a10934b92848e5ab2f87b64736f6c63430008180033","sourceMap":"427:11096:0:-:0;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;-1:-1:-1;;;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;427:11096:0;;;;;;;;2325:23;;427:11096;;-1:-1:-1;427:11096:0;;-1:-1:-1;;;;;;427:11096:0;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;-1:-1:-1;427:11096:0;;;;;;-1:-1:-1;427:11096:0;;;;;-1:-1:-1;427:11096:0","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c9081630c340a2414610cff5750806316c500cd14610c945780632091150d146107f25780632c2e8c92146107c3578063544ffc9c1461078257806354710b0f14610752578063732958fa146106c957806378bbd8fa14610635578063a6286870146105b9578063a6d62c3514610525578063d004cb7f146104ab578063e0a8f6f514610417578063e7ea088f146103585763f009f709146100b6575f80fd5b3461035457604036600319011261035457600435602490813560ff8116809103610354576100ef6001600160a01b035f54163314610f99565b600281106102ea57600a811161028057815f526020906002825260ff60405f2054166102185761011e81610e82565b6040519467ffffffffffffffff919060808701838111888210176102055760405260026001976001815286810186815260408201905f825260608301958652895f5283895260405f20925115159060ff61ff008554925160081b1692169061ffff1916171782555160018201550191519081519384116101f3575084906101a58484610e08565b01905f52835f205f5b8381106101e257867fe74ada30335f0c11679040e95ddf795a4ffe5b451d389854523b1cb5adb03a6b8787604051908152a2005b8251828201559185019187016101ae565b634e487b7160e01b5f5260416004525ffd5b50634e487b7160e01b5f5260416004525ffd5b608482856040519162461bcd60e51b83526004830152808201527f436f756e74696e674d756c746943686f6963653a20616c726561647920656e6160448201527f626c6564000000000000000000000000000000000000000000000000000000006064820152fd5b60848360256040519162461bcd60e51b8352602060048401528201527f436f756e74696e674d756c746943686f6963653a20746f6f206d616e79206f7060448201527f74696f6e730000000000000000000000000000000000000000000000000000006064820152fd5b608483602c6040519162461bcd60e51b8352602060048401528201527f436f756e74696e674d756c746943686f6963653a206e656564206174206c656160448201527f73742032206f7074696f6e7300000000000000000000000000000000000000006064820152fd5b5f80fd5b346103545760403660031901126103545760043560243590805f52600260205260ff60405f205460081c168210156103ad575f526001602052600360405f2001905f52602052602060405f2054604051908152f35b608460405162461bcd60e51b815260206004820152602360248201527f436f756e74696e674d756c746943686f6963653a20696e76616c6964206f707460448201527f696f6e00000000000000000000000000000000000000000000000000000000006064820152fd5b34610354576020366003190112610354576004356104406001600160a01b035f54163314610f99565b805f52600260205260405f205f815560026001915f6001820155018054905f81558161048e575b837f789cf55be980739dad1d0699b93b58e806b51c9d96619bfa8fe0a28abaa7b30c5f80a2005b5f5260205f20908101905b81811015610467575f81558201610499565b34610354576020806003193601126103545760043590815f52600260205260ff60405f205460081c16906104de82610e82565b925f5b8381106104fa57604051806104f68782610d21565b0390f35b600190825f52818452600360405f2001815f52845260405f205461051e8288610eb4565b52016104e1565b34610354576020806003193601126103545760043567ffffffffffffffff81116103545761055a610560913690600401610d72565b90610ec8565b9060405192839115158252604060208301528251908160408401525f935b8285106105a0575050606092505f838284010152601f80199101168101030190f35b848101820151868601606001529381019385935061057e565b346103545760208060031936011261035457600435805f52600260205260ff60405f205460081c16915f905f925f5b8581106105ff576040858582519182526020820152f35b815f5260018352600360405f2001815f52835260405f2054848111610628575b506001016105e8565b909450925083600161061f565b346103545760403660031901126103545761064e610d5c565b6004355f52600160209160016020526001600160a01b03600560405f200191165f5260205260405f20916040519182602085549182815201945f5260205f20925f905b8282106106b4576104f6866106a8818a0382610dbf565b60405191829182610d21565b84548752958601959383019390830190610691565b346103545760403660031901126103545760043560243567ffffffffffffffff8111610354576106fd903690600401610d72565b9161070783610e82565b925f5b81811061071f57604051806104f68782610d21565b80670de0b6b3a76400006107406107396001948689610e4d565b3586610de1565b0461074b8288610eb4565b520161070a565b34610354576020366003190112610354576004355f526002602052602060ff60405f205460081c16604051908152f35b34610354576020366003190112610354576004355f526001602052606060405f20805490600260018201549101549060405192835260208301526040820152f35b34610354576020366003190112610354576004355f526002602052602060ff60405f2054166040519015158152f35b346103545760a03660031901126103545761080b610d5c565b60643567ffffffffffffffff81116103545761082b903690600401610d72565b919067ffffffffffffffff60843511610354573660236084350112156103545767ffffffffffffffff60843560040135116103545736602460843560040135608435010111610354576004355f52600260205260405f2091825460ff811615610c2a5760081c60ff168403610bc0576004355f52600160205260405f20926001600160a01b0382165f526004840160205260ff60405f205416610b56576108d2858461100a565b93670de0b6b3a76400008511610aec576001600160a01b0383165f526004810160205260405f20600160ff198254161790556005810160205260405f2067ffffffffffffffff8711610ad8576109288782610e08565b84905f5260205f20905f5b888110610ac4575050505f5b868110610a2b5750506001016109586044358254610e5d565b905560405191606083528460608401527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8511610354576001600160a01b037f748baf300519ad5a9bf95a5fa2ac86104d261425d507ff9a26f610311980c99f9160209660051b809160808701378401926044358786015260808585030160408601526084356004013560808501526084356004013560246084350160a08601375f60a06084356004013586010152169260a08160043594601f19601f60843560040135011601030190a3604051908152f35b610a36818887610e4d565b35610a44575b60010161093f565b670de0b6b3a7640000610a64610a5b838a89610e4d565b35604435610de1565b0490805f526003830160205260405f20610a7f838254610e5d565b90556002840154811015610ab057600191600285015f52610aa78260205f2001918254610e5d565b90559050610a3c565b634e487b7160e01b5f52603260045260245ffd5b600190602083359301928185015501610933565b634e487b7160e01b5f52604160045260245ffd5b608460405162461bcd60e51b815260206004820152602e60248201527f436f756e74696e674d756c746943686f6963653a20746f74616c20776569676860448201527f74732065786365656420313030250000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602260248201527f436f756e74696e674d756c746943686f6963653a20616c726561647920766f7460448201527f65640000000000000000000000000000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602b60248201527f436f756e74696e674d756c746943686f6963653a20696e76616c69642077656960448201527f67687473206c656e6774680000000000000000000000000000000000000000006064820152fd5b608460405162461bcd60e51b815260206004820152602d60248201527f436f756e74696e674d756c746943686f6963653a206d756c74692d63686f696360448201527f65206e6f7420656e61626c6564000000000000000000000000000000000000006064820152fd5b3461035457602080600319360112610354576004355f526002602052600260405f2001906040519081602084549182815201935f5260205f20915f905b828210610ce8576104f6856106a881890382610dbf565b835486529485019460019384019390910190610cd1565b34610354575f366003190112610354576020906001600160a01b035f54168152f35b60209060206040818301928281528551809452019301915f5b828110610d48575050505090565b835185529381019392810192600101610d3a565b602435906001600160a01b038216820361035457565b9181601f840112156103545782359167ffffffffffffffff8311610354576020808501948460051b01011161035457565b6040810190811067ffffffffffffffff821117610ad857604052565b90601f8019910116810190811067ffffffffffffffff821117610ad857604052565b81810292918115918404141715610df457565b634e487b7160e01b5f52601160045260245ffd5b90680100000000000000008111610ad857815491818155828210610e2b57505050565b5f5260205f2091820191015b818110610e42575050565b5f8155600101610e37565b9190811015610ab05760051b0190565b91908201809211610df457565b67ffffffffffffffff8111610ad85760051b60200190565b90610e8c82610e6a565b610e996040519182610dbf565b8281528092610eaa601f1991610e6a565b0190602036910137565b8051821015610ab05760209160051b010190565b90610ed29161100a565b670de0b6b3a76400008111610f5d5715610f2257600190604051610ef581610da3565b601281527f56616c696420646973747269627574696f6e0000000000000000000000000000602082015290565b5f90604051610f3081610da3565b601981527f4d75737420616c6c6f6361746520736f6d652077656967687400000000000000602082015290565b505f90604051610f6c81610da3565b601281527f546f74616c206578636565647320313030250000000000000000000000000000602082015290565b15610fa057565b608460405162461bcd60e51b815260206004820152602260248201527f436f756e74696e674d756c746943686f6963653a206f6e6c7920676f7665726e60448201527f6f720000000000000000000000000000000000000000000000000000000000006064820152fd5b91905f925f915b80831061101d57505050565b909193611038600191611031878587610e4d565b3590610e5d565b9401919061101156fea2646970667358221220c88c732719272c00dea6af80f05825d7cdbf39d29c2a10934b92848e5ab2f87b64736f6c63430008180033","sourceMap":"427:11096:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;;;;;;;;;;;2067:69;-1:-1:-1;;;;;427:11096:0;;;2075:10;:22;2067:69;:::i;:::-;2703:1;2692:12;;427:11096;;2782:2;2771:13;;427:11096;;;;;;;2703:1;427:11096;;;;;;;;;;3112:22;;;:::i;:::-;427:11096;;;;;;;;;;;;;;;;;;;;2703:1;427:11096;;;;;2978:167;;;427:11096;;;;2978:167;;427:11096;;;;2978:167;;;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;3169:39;427:11096;;;;;;;3169:39;427:11096;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;;;;;8455:13;427:11096;;;;;;;;;;8441:50;;427:11096;;;;;;;;8548:38;427:11096;;;8548:38;427:11096;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;2067:69;-1:-1:-1;;;;;427:11096:0;;;2075:10;:22;2067:69;:::i;:::-;427:11096;;;10111:13;427:11096;;;;;;;;10111:13;427:11096;;;;;;;;;;;;;;;;;;10228:28;;427:11096;10228:28;;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8897:13;427:11096;;;;;;;;;;8951:25;;;;:::i;:::-;9000:13;427:11096;9015:14;;;;;;427:11096;;;;;;;:::i;:::-;;;;9031:3;427:11096;;;;;;;;9061:38;427:11096;;;9061:38;427:11096;;;;;;;;;9050:52;;;;:::i;:::-;427:11096;;9000:13;;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;427:11096:0;;;;;;;;;;;;;;;;;;;;9481:13;427:11096;;;;;;;;;;9527:20;427:11096;9557:18;427:11096;9599:13;427:11096;9614:14;;;;;;427:11096;;;;;;;;;;;;;9630:3;427:11096;;;;;;9671:38;427:11096;;;9671:38;427:11096;;;;;;;;;9730:22;;;9726:111;;9630:3;;427:11096;;9599:13;;9726:111;9772:22;;-1:-1:-1;9772:22:0;-1:-1:-1;9772:22:0;427:11096;9726:111;;427:11096;;;;;;-1:-1:-1;;427:11096:0;;;;;;:::i;:::-;;;;;;;;;;;-1:-1:-1;;;;;7806:39:0;427:11096;;;7806:39;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;;;;;;;;;;;;;:::i;:::-;11306:29;;;;:::i;:::-;11359:13;427:11096;11374:18;;;;;;427:11096;;;;;;;:::i;11394:3::-;11447:10;11461:4;11433:24;11447:10;427:11096;11447:10;;;;:::i;:::-;427:11096;11433:24;;:::i;:::-;427:11096;11413:52;;;;:::i;:::-;427:11096;;11359:13;;427:11096;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;7467:13;427:11096;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;;;;;;;;;;7159:21;7194:25;427:11096;7159:21;;427:11096;7194:25;;427:11096;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;;;8098:13;427:11096;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;:::i;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3779:13;427:11096;;;;;;;;;;;;;;;;;;3904:35;;427:11096;;;;;;;;;;;;;-1:-1:-1;;;;;427:11096:0;;;;;4079:21;;427:11096;;;;;;;;;;4221:20;;;;:::i;:::-;4259:23;4278:4;4259:23;;427:11096;;-1:-1:-1;;;;;427:11096:0;;;;;4079:21;;427:11096;;;;;;;;;;;;;;4412:25;;;427:11096;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;4532:13;;;427:11096;4547:18;;;;;;4827;;427:11096;4827:18;:28;427:11096;;;;4827:28;:::i;:::-;427:11096;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4871:57:0;427:11096;;;4412:25;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4871:57;;;;427:11096;;;;;;4567:3;4590:10;;;;;:::i;:::-;427:11096;4586:221;;4567:3;427:11096;;4532:13;;4586:221;4278:4;4648:19;4657:10;;;;;:::i;:::-;427:11096;;;4648:19;:::i;:::-;427:11096;;;;;4693:24;;;427:11096;;;;;4693:43;427:11096;;;4693:43;:::i;:::-;427:11096;;3779:13;4754:19;;427:11096;;;;;;;4754:19;3779:13;4754:19;;427:11096;;4754:38;427:11096;;;;;;;;4754:38;:::i;:::-;427:11096;;4586:221;;;;427:11096;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6628:13;427:11096;;6628:13;427:11096;;;6628:38;427:11096;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;427:11096:0;;;;;;-1:-1:-1;;;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;427:11096:0;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;427:11096:0;;-1:-1:-1;427:11096:0;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;427:11096:0;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;10438:443::-;;10601:20;10438:443;10601:20;:::i;:::-;10652:4;10644:12;;10640:79;;10741:10;10737:84;;10847:4;427:11096;;;;;;:::i;:::-;;;;;;;;;10438:443;:::o;10737:84::-;10750:1;427:11096;;;;;;:::i;:::-;;;;;;;;;10767:43;:::o;10640:79::-;10672:36;10680:5;427:11096;;;;;;:::i;:::-;;;;;;;;;10672:36;:::o;427:11096::-;;;;:::o;:::-;;;;-1:-1:-1;;;427:11096:0;;;;;;;;;;;;;;;;;;;;;;;6177:192;;;427:11096;6279:13;427:11096;6274:89;6294:18;;;;;;6177:192;;;:::o;6314:3::-;6342:10;;;6333:19;427:11096;6342:10;;;;;;:::i;:::-;427:11096;6333:19;;:::i;:::-;6314:3;427:11096;6279:13;;;","linkReferences":{}},"methodIdentifiers":{"cancelProposal(uint256)":"e0a8f6f5","castVoteMulti(uint256,address,uint256,uint256[],string)":"2091150d","enableMulti(uint256,uint8)":"f009f709","getAllOptionVotes(uint256)":"d004cb7f","getOptionVotes(uint256,uint256)":"e7ea088f","getVoterWeights(uint256,address)":"78bbd8fa","getWinningOption(uint256)":"a6286870","governor()":"0c340a24","isMultiEnabled(uint256)":"2c2e8c92","numOptionsOf(uint256)":"54710b0f","optionTotals(uint256)":"16c500cd","previewVoteDistribution(uint256,uint256[])":"732958fa","proposalVotes(uint256)":"544ffc9c","validateVoteDistribution(uint256[])":"a6d62c35"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_governor\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"options\",\"type\":\"uint8\"}],\"name\":\"MultiChoiceEnabled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"ProposalCanceled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"voter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"weights\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalWeight\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"VoteCastMulti\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"cancelProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"voter\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"weight\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"weights\",\"type\":\"uint256[]\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"castVoteMulti\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"options\",\"type\":\"uint8\"}],\"name\":\"enableMulti\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"getAllOptionVotes\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"votes\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"optionIndex\",\"type\":\"uint256\"}],\"name\":\"getOptionVotes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"voter\",\"type\":\"address\"}],\"name\":\"getVoterWeights\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"getWinningOption\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"winningOption\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"winningVotes\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"isMultiEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"numOptionsOf\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"optionTotals\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"voterWeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"weights\",\"type\":\"uint256[]\"}],\"name\":\"previewVoteDistribution\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"actualWeights\",\"type\":\"uint256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"proposalVotes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"againstVotes\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"forVotes\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"abstainVotes\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"weights\",\"type\":\"uint256[]\"}],\"name\":\"validateVoteDistribution\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Supports both traditional binary voting and advanced multi-choice preference distribution\",\"kind\":\"dev\",\"methods\":{\"cancelProposal(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID to cancel\"}},\"castVoteMulti(uint256,address,uint256,uint256[],string)\":{\"params\":{\"proposalId\":\"The proposal ID\",\"reason\":\"Vote rationale\",\"voter\":\"The voter address\",\"weight\":\"The voter's total weight\",\"weights\":\"Array of weights for each option (must sum \\u2264 1e18)\"},\"returns\":{\"_0\":\"The weight used\"}},\"constructor\":{\"params\":{\"_governor\":\"Address of the Governor contract\"}},\"enableMulti(uint256,uint8)\":{\"params\":{\"options\":\"Number of voting options (must be 2-10)\",\"proposalId\":\"The proposal ID\"}},\"getAllOptionVotes(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"votes\":\"Array of vote totals per option\"}},\"getOptionVotes(uint256,uint256)\":{\"params\":{\"optionIndex\":\"The option index\",\"proposalId\":\"The proposal ID\"},\"returns\":{\"_0\":\"Vote weight for that option\"}},\"getVoterWeights(uint256,address)\":{\"params\":{\"proposalId\":\"The proposal ID\",\"voter\":\"The voter address\"},\"returns\":{\"_0\":\"Array of weights allocated per option\"}},\"getWinningOption(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"winningOption\":\"winningVotes The option with most votes and its count\"}},\"isMultiEnabled(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"_0\":\"True if enabled\"}},\"numOptionsOf(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"_0\":\"Number of voting options\"}},\"optionTotals(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"_0\":\"Array of vote totals per option\"}},\"previewVoteDistribution(uint256,uint256[])\":{\"params\":{\"voterWeight\":\"Total voting power of the voter\",\"weights\":\"Proposed weight distribution\"},\"returns\":{\"actualWeights\":\"Actual weight allocation per option\"}},\"proposalVotes(uint256)\":{\"params\":{\"proposalId\":\"The proposal ID\"},\"returns\":{\"againstVotes\":\"forVotes abstainVotes Traditional vote counts\"}},\"validateVoteDistribution(uint256[])\":{\"params\":{\"weights\":\"Array of weights to validate\"},\"returns\":{\"valid\":\"reason Validation result and reason\"}}},\"title\":\"CountingMultiChoice\",\"version\":1},\"userdoc\":{\"events\":{\"MultiChoiceEnabled(uint256,uint8)\":{\"notice\":\"Emitted when multi-choice voting is enabled for a proposal\"},\"ProposalCanceled(uint256)\":{\"notice\":\"Emitted when a proposal is canceled\"},\"VoteCastMulti(uint256,address,uint256[],uint256,string)\":{\"notice\":\"Emitted when a multi-choice vote is cast\"}},\"kind\":\"user\",\"methods\":{\"cancelProposal(uint256)\":{\"notice\":\"Clean up multi-choice state when proposals are cancelled\"},\"castVoteMulti(uint256,address,uint256,uint256[],string)\":{\"notice\":\"Cast a multi-choice vote\"},\"constructor\":{\"notice\":\"Initialize with Governor contract address\"},\"enableMulti(uint256,uint8)\":{\"notice\":\"Enable multi-choice voting for a proposal\"},\"getAllOptionVotes(uint256)\":{\"notice\":\"Get complete vote distribution across all options\"},\"getOptionVotes(uint256,uint256)\":{\"notice\":\"Get vote weight for specific option\"},\"getVoterWeights(uint256,address)\":{\"notice\":\"Get a voter's ballot\"},\"getWinningOption(uint256)\":{\"notice\":\"Determine winning option and vote count\"},\"governor()\":{\"notice\":\"Governor contract address for access control\"},\"isMultiEnabled(uint256)\":{\"notice\":\"Check if multi-choice voting is enabled for proposal\"},\"numOptionsOf(uint256)\":{\"notice\":\"Get number of options for a proposal\"},\"optionTotals(uint256)\":{\"notice\":\"Get vote totals for all options (multi-choice)\"},\"previewVoteDistribution(uint256,uint256[])\":{\"notice\":\"Preview vote distribution before casting\"},\"proposalVotes(uint256)\":{\"notice\":\"Get binary vote results (Governor compatibility)\"},\"validateVoteDistribution(uint256[])\":{\"notice\":\"Validate weight distribution before voting\"}},\"notice\":\"Implements multi-choice voting for governance proposals with binary compatibility\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/core/CountingMultiChoice.sol\":\"CountingMultiChoice\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/core/CountingMultiChoice.sol\":{\"keccak256\":\"0x62ef96da29a80864b4848f69ec0a683bfdec468662feb8826acaa24f09cd698d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://acba73dc23b0113b47d7b1544e74aebff7f9b791e99bab353877686b279d4f50\",\"dweb:/ipfs/QmS1yyK8YjujoNqAhDYwETphwUbAxUcaVQyuY3jd2t8Nqo\"]},\"contracts/core/interfaces/ICountingMultiChoice.sol\":{\"keccak256\":\"0xd277789d4ed59f269cc7208d4a21b059dbfd4b40a0ba12d07edbd0aa67d1be8e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1c00f2548ec4c2fb2bdf0e86191ce2b9bbb798c37cf9013967dcf011a448be1a\",\"dweb:/ipfs/QmQUC4nE3PNNU3Ve5bRMKda7ma6vh6awb4J3LbGptMdCV7\"]},\"contracts/libs/Errors.sol\":{\"keccak256\":\"0x4e67b9e860071beb80d939b9659413cd29f79d812113c9ba0df1f43ee0874904\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://25c670b098f9cac0b41fc6c397b84a24bbaf400eae6d482927754dede7118098\",\"dweb:/ipfs/QmXLhy2uzEU9bJSscbTdHip2VscKv3NudXz4cPcPGd1SML\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_governor","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256","indexed":true},{"internalType":"uint8","name":"options","type":"uint8","indexed":false}],"type":"event","name":"MultiChoiceEnabled","anonymous":false},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256","indexed":true}],"type":"event","name":"ProposalCanceled","anonymous":false},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256","indexed":true},{"internalType":"address","name":"voter","type":"address","indexed":true},{"internalType":"uint256[]","name":"weights","type":"uint256[]","indexed":false},{"internalType":"uint256","name":"totalWeight","type":"uint256","indexed":false},{"internalType":"string","name":"reason","type":"string","indexed":false}],"type":"event","name":"VoteCastMulti","anonymous":false},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"cancelProposal"},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"address","name":"voter","type":"address"},{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"uint256[]","name":"weights","type":"uint256[]"},{"internalType":"string","name":"reason","type":"string"}],"stateMutability":"nonpayable","type":"function","name":"castVoteMulti","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"uint8","name":"options","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"enableMulti"},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAllOptionVotes","outputs":[{"internalType":"uint256[]","name":"votes","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"uint256","name":"optionIndex","type":"uint256"}],"stateMutability":"view","type":"function","name":"getOptionVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"},{"internalType":"address","name":"voter","type":"address"}],"stateMutability":"view","type":"function","name":"getVoterWeights","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getWinningOption","outputs":[{"internalType":"uint256","name":"winningOption","type":"uint256"},{"internalType":"uint256","name":"winningVotes","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"governor","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isMultiEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"numOptionsOf","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"optionTotals","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"voterWeight","type":"uint256"},{"internalType":"uint256[]","name":"weights","type":"uint256[]"}],"stateMutability":"pure","type":"function","name":"previewVoteDistribution","outputs":[{"internalType":"uint256[]","name":"actualWeights","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"proposalId","type":"uint256"}],"stateMutability":"view","type":"function","name":"proposalVotes","outputs":[{"internalType":"uint256","name":"againstVotes","type":"uint256"},{"internalType":"uint256","name":"forVotes","type":"uint256"},{"internalType":"uint256","name":"abstainVotes","type":"uint256"}]},{"inputs":[{"internalType":"uint256[]","name":"weights","type":"uint256[]"}],"stateMutability":"pure","type":"function","name":"validateVoteDistribution","outputs":[{"internalType":"bool","name":"valid","type":"bool"},{"internalType":"string","name":"reason","type":"string"}]}],"devdoc":{"kind":"dev","methods":{"cancelProposal(uint256)":{"params":{"proposalId":"The proposal ID to cancel"}},"castVoteMulti(uint256,address,uint256,uint256[],string)":{"params":{"proposalId":"The proposal ID","reason":"Vote rationale","voter":"The voter address","weight":"The voter's total weight","weights":"Array of weights for each option (must sum â‰¤ 1e18)"},"returns":{"_0":"The weight used"}},"constructor":{"params":{"_governor":"Address of the Governor contract"}},"enableMulti(uint256,uint8)":{"params":{"options":"Number of voting options (must be 2-10)","proposalId":"The proposal ID"}},"getAllOptionVotes(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"votes":"Array of vote totals per option"}},"getOptionVotes(uint256,uint256)":{"params":{"optionIndex":"The option index","proposalId":"The proposal ID"},"returns":{"_0":"Vote weight for that option"}},"getVoterWeights(uint256,address)":{"params":{"proposalId":"The proposal ID","voter":"The voter address"},"returns":{"_0":"Array of weights allocated per option"}},"getWinningOption(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"winningOption":"winningVotes The option with most votes and its count"}},"isMultiEnabled(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"_0":"True if enabled"}},"numOptionsOf(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"_0":"Number of voting options"}},"optionTotals(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"_0":"Array of vote totals per option"}},"previewVoteDistribution(uint256,uint256[])":{"params":{"voterWeight":"Total voting power of the voter","weights":"Proposed weight distribution"},"returns":{"actualWeights":"Actual weight allocation per option"}},"proposalVotes(uint256)":{"params":{"proposalId":"The proposal ID"},"returns":{"againstVotes":"forVotes abstainVotes Traditional vote counts"}},"validateVoteDistribution(uint256[])":{"params":{"weights":"Array of weights to validate"},"returns":{"valid":"reason Validation result and reason"}}},"version":1},"userdoc":{"kind":"user","methods":{"cancelProposal(uint256)":{"notice":"Clean up multi-choice state when proposals are cancelled"},"castVoteMulti(uint256,address,uint256,uint256[],string)":{"notice":"Cast a multi-choice vote"},"constructor":{"notice":"Initialize with Governor contract address"},"enableMulti(uint256,uint8)":{"notice":"Enable multi-choice voting for a proposal"},"getAllOptionVotes(uint256)":{"notice":"Get complete vote distribution across all options"},"getOptionVotes(uint256,uint256)":{"notice":"Get vote weight for specific option"},"getVoterWeights(uint256,address)":{"notice":"Get a voter's ballot"},"getWinningOption(uint256)":{"notice":"Determine winning option and vote count"},"governor()":{"notice":"Governor contract address for access control"},"isMultiEnabled(uint256)":{"notice":"Check if multi-choice voting is enabled for proposal"},"numOptionsOf(uint256)":{"notice":"Get number of options for a proposal"},"optionTotals(uint256)":{"notice":"Get vote totals for all options (multi-choice)"},"previewVoteDistribution(uint256,uint256[])":{"notice":"Preview vote distribution before casting"},"proposalVotes(uint256)":{"notice":"Get binary vote results (Governor compatibility)"},"validateVoteDistribution(uint256[])":{"notice":"Validate weight distribution before voting"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/core/CountingMultiChoice.sol":"CountingMultiChoice"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"contracts/core/CountingMultiChoice.sol":{"keccak256":"0x62ef96da29a80864b4848f69ec0a683bfdec468662feb8826acaa24f09cd698d","urls":["bzz-raw://acba73dc23b0113b47d7b1544e74aebff7f9b791e99bab353877686b279d4f50","dweb:/ipfs/QmS1yyK8YjujoNqAhDYwETphwUbAxUcaVQyuY3jd2t8Nqo"],"license":"MIT"},"contracts/core/interfaces/ICountingMultiChoice.sol":{"keccak256":"0xd277789d4ed59f269cc7208d4a21b059dbfd4b40a0ba12d07edbd0aa67d1be8e","urls":["bzz-raw://1c00f2548ec4c2fb2bdf0e86191ce2b9bbb798c37cf9013967dcf011a448be1a","dweb:/ipfs/QmQUC4nE3PNNU3Ve5bRMKda7ma6vh6awb4J3LbGptMdCV7"],"license":"MIT"},"contracts/libs/Errors.sol":{"keccak256":"0x4e67b9e860071beb80d939b9659413cd29f79d812113c9ba0df1f43ee0874904","urls":["bzz-raw://25c670b098f9cac0b41fc6c397b84a24bbaf400eae6d482927754dede7118098","dweb:/ipfs/QmXLhy2uzEU9bJSscbTdHip2VscKv3NudXz4cPcPGd1SML"],"license":"MIT"}},"version":1},"id":0}